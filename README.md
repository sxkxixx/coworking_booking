# Серверная часть сервиса для бронирования коворкингов УрФУ

## Инструкция по локальному запуску

* Установите зависимости

```bash
poetry install
```

* Укажите нужные настройки в качестве переменных окружения или создайте файл .env в директории src/

```bash
    # Postgresql
    export DATABASE_USER=...
    export DATABASE_PASSWORD=...
    export DATABASE_HOST=...
    export DATABASE_PORT=...
    export DATABASE_NAME=...
    # Redis
    export REDIS_HOST=...
    export REDIS_PORT=...
    # ...
    export APP_HOSTNAME=...
    export APP_PORT=...
    export SECRET_KEY=...
    export ACCESS_TOKEN_TTL_MINUTES=...
    export SESSION_TTL_DAYS=...
    # AWS Object Storage
    export AWS_ACCESS_KEY_ID=...
    export AWS_SECRET_ACCESS_KEY=...
    export REGION_NAME=...
    export BUCKET_NAME=...
    export S3_ENDPOINT_URL=...
```

* Для запуска приложения перейдите в директорию src/ и введите

```bash
    uvicorn main:app --host <host> --port <port>
```

## Запуск в Docker

* Соберите образ приложения

```bash
    docker build . -t <Image Name>
```

* Запустите контейнер

```bash
    docker run --env-file <path to .env> -p "port:port" --name <container name> <image name>
```
